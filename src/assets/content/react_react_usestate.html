<h1>React <code class="w3codespan">useState</code> Hook</h1>


<hr>

<p class="intro">The React <code class="w3-codespan">useState</code> Hook allows us to track state in a function component.</p>
<p class="intro">State generally refers to data or properties that need to be tracking in an application.</p>

<hr>

<h2>Import <code class="w3-codespan">useState</code></h2>

<p>To use the <code class="w3-codespan">useState</code> Hook, we first need to <code class="w3-codespan">import</code> it into our component.</p>

<div class="w3-example">
<h3>Example:</h3>
  <p>At the top of your component, <code class="w3-codespan">import</code> the <code class="w3-codespan">useState</code> Hook.</p>
<pre class="language-jsx w3-white"><code>import { useState } from &quot;react&quot;;
</code></pre>
</div>

<p>Notice that we are destructuring <code class="w3-codespan">useState</code> from <code class="w3-codespan">react</code> as it is a named export.</p>

<div class="w3-panel ws-note">
<p>To learn more about destructuring, check out the <a href="react_es6_destructuring.html">ES6 Destructuring section</a>.</p>
</div>

<hr>

<h2>Initialize <code class="w3-codespan">useState</code></h2>

<p>We initialize our state by calling <code class="w3-codespan">useState</code> in our function component.</p>

<p><code class="w3-codespan">useState</code> accepts an initial state and returns two values:</p>

<ul>
<li>The current state.</li>
<li>A function that updates the state.</li>
</ul>

<div class="w3-example">
<h3>Example:</h3>
  <p>Initialize state at the top of the function component.</p>
<pre class="language-jsx w3-white"><code>import { useState } from &quot;react&quot;;

function FavoriteColor() {
  const [color, setColor] = useState(&quot;red&quot;);
}
</code></pre>
</div>

<p>Notice that again, we are destructuring the returned values from <code class="w3-codespan">useState</code>.</p>

<p>The first value, <code class="w3-codespan">color</code>, is our current state.</p>

<p>The second value, <code class="w3-codespan">setColor</code>, is the function that is used to update our state.</p>

<div class="w3-panel ws-note">
<p>These names are variables that can be named anything you would like.</p>
</div>

<p>Lastly, we set the initial state to "red": <code class="w3-codespan">useState("red")</code></p>

<hr>

<hr>

<h2>Read State</h2>

<p>We can now include our state anywhere in our component.</p>
<div class="w3-example">
<h3>Example:</h3>
  <p>Use the state variable in the rendered component.</p>
<pre class="language-jsx w3-white"><code>import { useState } from 'react';
import { createRoot } from 'react-dom/client';

function FavoriteColor() {
  const [color, setColor] = useState(&quot;red&quot;);

  return &lt;h1&gt;My favorite color is {color}!&lt;/h1&gt;
}

createRoot(document.getElementById('root')).render(
  &lt;FavoriteColor /&gt;
);
</code></pre>
<p>
<a target="_blank" class="w3-btn" href="showreact6e8d.html?filename=demo_react_usestate">Run 
Example &raquo;</a>
</p>
</div>


<hr>

<h2>Update State</h2>

<p>To update our state, we use our state updater function.</p>

<div class="w3-example">
<h3>Example:</h3>
<p>Use the state updater function to update the state:</p>
<pre class="language-jsx w3-white"><code>&lt;button
  type=&quot;button&quot;
  onClick={() =&gt; setColor(&quot;blue&quot;)}
&gt;Blue&lt;/button&gt;
</code></pre>
</div>

<div class="w3-panel ws-note">
<p>We should never directly update state. Ex: <code class="w3-codespan">color = "blue"</code> is not allowed.</p>
</div>

<div class="w3-example">
<h3>Example:</h3>
  <p>Use a button to update the state:</p>
<pre class="language-jsx w3-white"><code>import { useState } from 'react';
import { createRoot } from 'react-dom/client';

function FavoriteColor() {
  const [color, setColor] = useState(&quot;red&quot;);

  return (
    &lt;&gt;
      &lt;h1&gt;My favorite color is {color}!&lt;/h1&gt;
      &lt;button
        type=&quot;button&quot;
        onClick={() =&gt; setColor(&quot;blue&quot;)}
      &gt;Blue&lt;/button&gt;
    &lt;/&gt;
  )
}

createRoot(document.getElementById('root')).render(
  &lt;FavoriteColor /&gt;
);
</code></pre>
<p>
<a target="_blank" class="w3-btn" href="showreact3304.html?filename=demo_react_usestate_set">Run 
Example &raquo;</a>
</p>
</div>
<hr>

<h2>What Can State Hold?</h2>

<p>The <code class="w3-codespan">useState</code> Hook can be used to keep track of strings, numbers, booleans, arrays, objects, and any combination of these!</p>

<p>We could create multiple state Hooks to track individual values.</p>

<div class="w3-example">
<h3>Example:</h3>
  <p>Create multiple state Hooks:</p>
<pre class="language-jsx w3-white"><code>import { useState } from 'react';
import { createRoot } from 'react-dom/client';

function MyCar() {
  const [brand, setBrand] = useState(&quot;Ford&quot;);
  const [model, setModel] = useState(&quot;Mustang&quot;);
  const [year, setYear] = useState(&quot;1964&quot;);
  const [color, setColor] = useState(&quot;red&quot;);

  return (
    &lt;&gt;
      &lt;h1&gt;My {brand}&lt;/h1&gt;
      &lt;p&gt;
        It is a {color} {model} from {year}.
      &lt;/p&gt;
    &lt;/&gt;
  )
}

createRoot(document.getElementById('root')).render(
  &lt;MyCar /&gt;
);
</code></pre>
<p>
<a target="_blank" class="w3-btn" href="showreact0885.html?filename=demo_react_usestate_multiple">Run 
Example &raquo;</a>
</p>
</div>

<p>Or, we can just use one state and include an object instead!</p>

<div class="w3-example">
<h3>Example:</h3>
  <p>Create a single Hook that holds an object:</p>
<pre class="language-jsx w3-white"><code>import { useState } from 'react';
import { createRoot } from 'react-dom/client';

function MyCar() {
  const [car, setCar] = useState({
    brand: &quot;Ford&quot;,
    model: &quot;Mustang&quot;,
    year: &quot;1964&quot;,
    color: &quot;red&quot;
  });

  return (
    &lt;&gt;
      &lt;h1&gt;My {car.brand}&lt;/h1&gt;
      &lt;p&gt;
        It is a {car.color} {car.model} from {car.year}.
      &lt;/p&gt;
    &lt;/&gt;
  )
}

createRoot(document.getElementById('root')).render(
  &lt;MyCar /&gt;
);
</code></pre>
<p>
<a target="_blank" class="w3-btn" href="showreact76cd.html?filename=demo_react_usestate_multiple2">Run 
Example &raquo;</a>
</p>
</div>

<div class="w3-panel ws-note">
<p>Since we are now tracking a single object: <code class="w3-codespan">car</code>,
we need to reference that object when rendering the component.
(Ex: <code class="w3-codespan">car.brand</code>)</p>
</div>

<hr>
<h2>Updating Objects and Arrays in State</h2>

<p>When state is updated, the entire state gets overwritten.</p>

<p>What if we only want to update the color of our car?</p>

<p>If we only called <code class="w3-codespan">setCar({color: "blue"})</code>, this would remove the brand, model, and year from our state.</p>

<p>We can use the JavaScript spread operator to help us.</p>

<div class="w3-example">
<h3>Example:</h3>
  <p>Use the JavaScript spread operator to update only the color of the car:</p>
<pre class="language-jsx w3-white"><code>const updateColor = () =&gt; {
  setCar(previousState =&gt; {
    return { ...previousState, color: &quot;blue&quot; }
  });
}
</code></pre>
<p>
  <a target="_blank" class="w3-btn" href="showreact227f.html?filename=demo_react_usestate_set_spread">Run 
  Example &raquo;</a>
  </p>
</div>
  
<p>Because we need the current value of state, we pass a function into our <code class="w3-codespan">setCar</code> function.
This function receives the previous value.</p>
  
<p>We then return an object, spreading the <code class="w3-codespan">previousState</code> and overwriting only the color.</p>
  
<hr>




<hr>