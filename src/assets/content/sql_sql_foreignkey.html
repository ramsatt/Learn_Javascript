<h1>SQL <span class="color_h1">FOREIGN KEY</span> Constraint</h1>

<hr>


<h2>SQL FOREIGN KEY Constraint</h2>
<p>The <code class="w3-codespan">FOREIGN KEY</code> constraint is used to prevent actions that would destroy links between tables.</p>
<p>A <code class="w3-codespan">FOREIGN KEY</code> is a field (or collection of fields) in one table, that refers to 
the <code class="w3-codespan"><a href="sql_primarykey.html">PRIMARY KEY</a></code> in another table.</p>
<p>The table with the foreign key is called the child table, and the table 
with the primary key is called the referenced or parent table.</p>
<p>Look at the following two tables:</p>
<h3>Persons Table</h3>
<div class="w3-responsive">
<table class="ws-table-all notranslate">
  <tr>
    <th>PersonID</th>
    <th>LastName</th>
    <th>FirstName</th>
    <th>Age</th>
  </tr>
  <tr>
    <td>1</td>
    <td>Hansen</td>
    <td>Ola</td>
    <td>30</td>
  </tr>
  <tr>
    <td>2</td>
    <td>Svendson</td>
    <td>Tove</td>
    <td>23</td>
  </tr>
  <tr>
    <td>3</td>
    <td>Pettersen</td>
    <td>Kari</td>
    <td>20</td>
  </tr>
</table>
</div>
<h3>Orders Table</h3>
<table class="ws-table-all notranslate" style="width:50%">
  <tr>
    <th>OrderID</th>
    <th>OrderNumber</th>
    <th>PersonID</th>
  </tr>
  <tr>
    <td>1</td>
    <td>77895</td>
    <td>3</td>
  </tr>
  <tr>
    <td>2</td>
    <td>44678</td>
    <td>3</td>
  </tr>
  <tr>
    <td>3</td>
    <td>22456</td>
    <td>2</td>
  </tr>
  <tr>
    <td>4</td>
    <td>24562</td>
    <td>1</td>
  </tr>
</table>
<p>Notice that the &quot;PersonID&quot; column in the &quot;Orders&quot; table points to the &quot;PersonID&quot; column in the &quot;Persons&quot; table.</p>
<p>The &quot;PersonID&quot; column in the &quot;Persons&quot; table is the <code class="w3-codespan">PRIMARY KEY</code> in the &quot;Persons&quot; table.</p>
<p>The &quot;PersonID&quot; column in the &quot;Orders&quot; table is a <code class="w3-codespan">
FOREIGN KEY</code> in the &quot;Orders&quot; table.</p>
<p>The <code class="w3-codespan">FOREIGN KEY</code> constraint prevents invalid data from being inserted into the foreign key column,
because it has to be one of the values contained in the parent table.</p>


<hr>

<hr>


<h2>SQL FOREIGN KEY on CREATE TABLE</h2>
<p>The following SQL creates a <code class="w3-codespan">FOREIGN KEY</code> on the &quot;PersonID&quot; column when the &quot;Orders&quot; table is created:</p>

<p><b>MySQL:</b></p>
<div class="w3-example">
<div class="w3-code notranslate sqlHigh">
CREATE TABLE Orders
(<br>
&nbsp;&nbsp;&nbsp;
OrderID int NOT NULL,<br>
&nbsp;&nbsp;&nbsp;
OrderNumber int NOT NULL,<br>
&nbsp;&nbsp;&nbsp;
PersonID int,<br>
&nbsp;&nbsp;&nbsp;
PRIMARY KEY (OrderID),<br>
&nbsp;&nbsp;&nbsp;
FOREIGN KEY (PersonID) REFERENCES Persons(PersonID)<br>
);</div></div>

<p><b>SQL Server / Oracle / MS Access:</b></p>
<div class="w3-example">
<div class="w3-code notranslate sqlHigh">
CREATE TABLE Orders
(<br>
&nbsp;&nbsp;&nbsp;
OrderID int NOT NULL PRIMARY KEY,<br>
&nbsp;&nbsp;&nbsp;
OrderNumber int NOT NULL,<br>
&nbsp;&nbsp;&nbsp;
PersonID int FOREIGN KEY REFERENCES Persons(PersonID)<br>
);</div></div>

<p>To allow naming of a <code class="w3-codespan">FOREIGN KEY</code> constraint, and for defining a <code class="w3-codespan">
FOREIGN KEY</code> constraint on multiple columns, use the following SQL syntax:</p>
<p><b>MySQL / SQL Server / Oracle / MS Access:</b></p>
<div class="w3-example">
<div class="w3-code notranslate sqlHigh">
CREATE TABLE Orders
(<br>
&nbsp;&nbsp;&nbsp;
OrderID int NOT NULL,<br>
&nbsp;&nbsp;&nbsp;
OrderNumber int NOT NULL,<br>
&nbsp;&nbsp;&nbsp;
PersonID int,<br>
&nbsp;&nbsp;&nbsp;
PRIMARY KEY (OrderID),<br>
&nbsp;&nbsp;&nbsp;
CONSTRAINT FK_PersonOrder FOREIGN KEY (PersonID)<br>
&nbsp;&nbsp;&nbsp;
REFERENCES Persons(PersonID)<br>
);</div></div>


<hr>


<h2>SQL FOREIGN KEY on ALTER TABLE</h2>
<p>To create a <code class="w3-codespan">FOREIGN KEY</code> constraint on the &quot;PersonID&quot; column when the &quot;Orders&quot; table is already created, use the following SQL:</p>
<p><b>MySQL / SQL Server / Oracle / MS Access:</b></p>
<div class="w3-example">
<div class="w3-code notranslate sqlHigh">
ALTER TABLE Orders<br>
ADD FOREIGN KEY (PersonID)
REFERENCES Persons(PersonID);</div></div>

<p>To allow naming of a <code class="w3-codespan">FOREIGN KEY</code> constraint, and for defining a <code class="w3-codespan">
FOREIGN KEY</code> constraint on multiple columns, use the following SQL syntax:</p>
<p><b>MySQL / SQL Server / Oracle / MS Access:</b></p>
<div class="w3-example">
<div class="w3-code notranslate sqlHigh">
ALTER TABLE Orders<br>
ADD CONSTRAINT FK_PersonOrder<br>
FOREIGN KEY (PersonID)
REFERENCES Persons(PersonID);</div></div>


<hr>


<h2>DROP a FOREIGN KEY Constraint</h2>
<p>To drop a <code class="w3-codespan">FOREIGN KEY</code> constraint, use the following SQL:</p>
<p><b>MySQL:</b></p>
<div class="w3-example">
<div class="w3-code notranslate sqlHigh">
ALTER TABLE Orders<br>
DROP FOREIGN KEY FK_PersonOrder;</div></div>

<p><b>SQL Server / Oracle / MS Access:</b></p>
<div class="w3-example">
<div class="w3-code notranslate sqlHigh">
ALTER TABLE Orders<br>
DROP CONSTRAINT FK_PersonOrder;</div></div>


<hr>

<hr>

<br>