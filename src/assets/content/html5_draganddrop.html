<h1>HTML <span class="color_h1">Drag and Drop API</span></h1>

<hr>
<p class="intro">The HTML Drag and Drop API enables an element to be dragged and dropped.</p>
<hr>

<h2>Example</h2>
<p>Drag the W3Schools image into the second rectangle.</p>
<div id="div1" ondrop="dropHandler(event)"   ondragover="dragoverHandler(event)">
<img id="img1" src="assets/content/images/img_w3slogo.gif" draggable="true" ondragstart="dragstartHandler(event)" width="88" height="31">
</div>
<div id="div2" ondrop="dropHandler(event)"   ondragover="dragoverHandler(event)"></div>
<div style="clear:both"></div>
<hr>


<h2>Drag and Drop</h2>
<p>Drag and drop is a very common feature. It is when you &quot;grab&quot; an object and drag it to a different location.</p>

<hr>

<h2>Browser Support</h2>
<p>The numbers in the table specify the first browser version that fully supports Drag and Drop.</p>
<table class="browserref notranslate">
  <tr>
    <th style="width:20%;font-size:16px;text-align:left;">API</th>
    <th style="width:16%;" class="bsChrome" title="Chrome"></th>
    <th style="width:16%;" class="bsEdge" title="Internet Explorer / Edge"></th>
    <th style="width:16%;" class="bsFirefox" title="Firefox"></th>
    <th style="width:16%;" class="bsSafari" title="Safari"></th>
    <th style="width:16%;" class="bsOpera" title="Opera"></th>                
  </tr>
  <tr>
    <td style="text-align:left;">Drag and Drop</td>
    <td>4.0</td>
    <td>9.0</td>
    <td>3.5</td>
    <td>6.0</td>
    <td>12.0</td>
  </tr>
</table>
<hr>


<h2>HTML Drag and Drop API Example</h2>
<p>The example below is a simple drag and drop example:</p>
<div class="w3-example">
<h3>Example</h3>
<div class="w3-code notranslate htmlHigh">
 &lt;!DOCTYPE HTML&gt;<br>
 &lt;html&gt;<br>
 &lt;head&gt;<br>
  &lt;script&gt;<br>function dragstartHandler(ev) {<br>&nbsp; ev.dataTransfer.setData(&quot;text&quot;, 
  ev.target.id);<br>}<br><br>function dragoverHandler(ev) {<br>&nbsp; 
  ev.preventDefault();<br>}<br><br>function dropHandler(ev) {<br>&nbsp; ev.preventDefault();<br>&nbsp; 
  const data = ev.dataTransfer.getData(&quot;text&quot;);<br>&nbsp; ev.target.appendChild(document.getElementById(data));<br>
  }<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;div id=&quot;div1&quot; ondrop=&quot;dropHandler(event)&quot; 
  ondragover=&quot;dragoverHandler(event)&quot;&gt;&lt;/div&gt;<br><br>&lt;img id=&quot;img1&quot; src=&quot;img_logo.gif&quot; 
  draggable=&quot;true&quot; ondragstart=&quot;dragstartHandler(event)&quot; width=&quot;336&quot; 
  height=&quot;69&quot;&gt;<br>
 <br>
 &lt;/body&gt;<br>
 &lt;/html&gt;</div>
</div>
<p>It might seem complicated, but lets go through all the different parts of a drag and drop event.</p>

<hr>

<hr>

<h2>Make an Element Draggable</h2>
<p>First of all: To make an element draggable, set the <code class="w3-codespan">draggable</code> attribute to true:</p>
<div class="w3-code w3-border notranslate htmlHigh"><div>
 &lt;img id=&quot;img1&quot; draggable=&quot;true&quot;&gt;</div></div>
<p>or:</p> 
<div class="w3-code w3-border notranslate htmlHigh"><div>
 &lt;p 
  id=&quot;p1&quot; draggable=&quot;true&quot;&gt;Draggable text&lt;/p&gt;</div></div>
 

<hr>


<h2>What to Drag - ondragstart and setData()</h2>
<p>Then, specify what should happen when the element is dragged.</p>
<p>In the example above, the <code class="w3-codespan">ondragstart</code> attribute 
of the &lt;img&gt; element calls a function (dragstartHandler(ev)), 
that specifies what data to be dragged.</p>
<p>The <code class="w3-codespan">dataTransfer.setData()</code> method sets the data type and the value of the 
dragged data:</p>
<div class="w3-code w3-border notranslate jsHigh">
<div>
  function dragstartHandler(ev) {<br>&nbsp; ev.dataTransfer.setData(&quot;text&quot;, 
  ev.target.id);<br>}
</div></div>
<p>In this case, the data type is &quot;text&quot; and the value is the id of the draggable element (&quot;img1&quot;).</p>

<hr>


<h2>Where to Drop - ondragover</h2>
<p>The <code class="w3-codespan">ondragover</code> attrribute of the &lt;div&gt; 
element calls a function (dragoverHandler(ev)), that specifies where the dragged data can be dropped.</p>
<p>By default, data/elements cannot be dropped in other elements. To allow a drop, 
we must prevent the default handling of the element.</p>
<p>This is done by calling the <code class="w3-codespan">preventDefault()</code> method for the ondragover event:</p>
<div class="w3-code w3-border notranslate jsHigh">
 <div>
   function dragoverHandler(ev) {<br>&nbsp; ev.preventDefault();<br>}</div>
</div>

<hr>


<h2>Do the Drop - ondrop</h2>
<p>When the dragged data is dropped, a drop event occurs.</p>
<p>In the example above, the ondrop attribute of the &lt;div&gt; element calls a function, dropHandler(event):</p>
<div class="w3-code w3-border notranslate jsHigh">
 <div>
   function dropHandler(ev) {<br>&nbsp; ev.preventDefault();<br>&nbsp; const 
   data = ev.dataTransfer.getData(&quot;text&quot;);<br>&nbsp; ev.target.appendChild(document.getElementById(data));<br>
   }</div>
</div>
<p>Code explained:</p>
<ul>
  <li>Call <code class="w3-codespan">preventDefault()</code> to prevent the browser default handling of the data (default is open as link on drop)</li>
  <li>Get the dragged data with the <code class="w3-codespan">
  dataTransfer.getData()</code> method. This method will return any data that was set to the same type in the
  <code class="w3-codespan">setData()</code> method</li>
  <li>The dragged data is the id of the dragged element (&quot;img1&quot;)</li>
  <li>Append the dragged element into the drop element</li>
</ul>

<hr>

<h2>More Examples</h2>
<div class="w3-example">
<h3>Example</h3>
<p>How to drag and drop an &lt;h1&gt; element to a &lt;div&gt; element:</p>
<div class="w3-code notranslate htmlHigh">
  &lt;script&gt;<br>function dragstartHandler(ev) {<br>&nbsp; ev.dataTransfer.setData(&quot;text&quot;, 
  ev.target.id);<br>}<br><br>function dragoverHandler(ev) {<br>&nbsp; ev.preventDefault();<br>
  }<br><br>function dropHandler(ev) {<br>&nbsp; ev.preventDefault();<br>&nbsp; const data = 
  ev.dataTransfer.getData(&quot;text&quot;);<br>&nbsp; ev.target.appendChild(document.getElementById(data));<br>
  }<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;div id=&quot;div1&quot; ondrop=&quot;dropHandler(event)&quot; 
  ondragover=&quot;dragoverHandler(event)&quot;&gt;&lt;/div&gt;<br><br>&lt;h1 id=&quot;h1&quot; 
  draggable=&quot;true&quot; ondragstart=&quot;dragstartHandler(event)&quot;&gt;W3Schools.com&lt;/h1&gt;</div>

</div>

<div class="w3-example">
<h3>Example</h3>
<p>How to drag and drop an &lt;a&gt; element to a &lt;div&gt; element:</p>
<div class="w3-code notranslate htmlHigh">
  &lt;script&gt;<br>function dragstartHandler(ev) {<br>&nbsp; ev.dataTransfer.setData(&quot;text&quot;, 
  ev.target.id);<br>}<br><br>function dragoverHandler(ev) {<br>&nbsp; ev.preventDefault();<br>
  }<br><br>function dropHandler(ev) {<br>&nbsp; ev.preventDefault();<br>&nbsp; const data = 
  ev.dataTransfer.getData(&quot;text&quot;);<br>&nbsp; ev.target.appendChild(document.getElementById(data));<br>
  }<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;div id=&quot;div1&quot; ondrop=&quot;dropHandler(event)&quot; 
  ondragover=&quot;dragoverHandler(event)&quot;&gt;&lt;/div&gt;<br><br>&lt;a 
  id=&quot;link1&quot; href=&quot;https://w3schools.com&quot; draggable=&quot;true&quot; ondragstart=&quot;dragstartHandler(event)&quot;&gt;W3Schools.com&lt;/a&gt;</div>

</div>

<div class="w3-example">
<h3>Example</h3>
<p>How to drag and drop an image back and forth between two &lt;div&gt; elements:</p>
<div class="w3-white w3-padding notranslate">
<iframe src="assets/content/images/tryhtml5_draganddrop_ifr.html" style="width:100%;border:none"></iframe></div>
</div>

<br>