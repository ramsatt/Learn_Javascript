<h1>TypeScript Special Types</h1>




<hr>

<p>TypeScript includes several special types that have specific behaviors in the type system.</p>
<p>These types are used in various scenarios to handle cases where the type might not be known in advance or when you need to work with JavaScript primitives in a type-safe way.</p>

<div class="w3-panel ws-info">
  <p><strong>Note:</strong> These special types are part of TypeScript's type system and help make your code more type-safe and self-documenting.</p>
</div>

<hr>

<h2 id="any-type">Type: any</h2>

<p>The <code class="w3-codespan">any</code> type is the most flexible type in TypeScript.</p>
<p>It essentially tells the compiler to skip type checking for a particular variable.</p>
<p>While this can be useful in certain situations, it should be used sparingly as it bypasses TypeScript's type safety features.</p>

<div class="w3-panel ws-info">
  <p><strong>When to use <code class="w3-codespan">any</code>:</strong></p>
  <ul>
    <li>When migrating JavaScript code to TypeScript</li>
    <li>When working with dynamic content where the type is unknown</li>
    <li>When you need to opt out of type checking for a specific case</li>
  </ul>
</div>

<p>The example below does not use <code class="w3-codespan">any</code> and will throw an error:</p>

<div class="w3-example">
<h3>Example without <code class="w3-codespan">any</code></h3>

<div class="w3-code notranslate jsHigh">
let u = true;<br>
u = "string"; // Error: Type 'string' is not assignable to type 'boolean'.<br>
Math.round(u); // Error: Argument of type 'boolean' is not assignable to parameter of type 'number'.
</div>

</div>

<p>Setting a variable to the special type <code class="w3-codespan">any</code> disables type checking:</p>
<div class="w3-example">
<h3>Example with <code class="w3-codespan">any</code></h3>

<div class="w3-code notranslate jsHigh">
let v: any = true;<br>
v = "string"; // no error as it can be "any" type<br>
Math.round(v); // no error as it can be "any" type
</div>

</div>

<div class="w3-panel ws-info">
<p><code class="w3-codespan">any</code> can be a useful way to get past errors since it disables type checking, but
TypeScript will not be able to provide type safety, and tools which rely
 on type data, such as auto completion, will not work.</p>
<p>Remember, it should be avoided at "any" cost...
</p>
</div>

<hr>
<hr>

<h2 id="unknown-type">Type: unknown</h2>

<p>The <code class="w3-codespan">unknown</code> type is a type-safe counterpart of <code class="w3-codespan">any</code>.</p>
<p>It's the type-safe way to say "this could be anything, so you must perform some type of checking before you use it".</p>

<div class="w3-panel ws-info">
  <p><strong>Key differences between <code class="w3-codespan">unknown</code> and <code class="w3-codespan">any</code>:</strong></p>
  <ul>
    <li><code class="w3-codespan">unknown</code> must be type-checked before use</li>
    <li>You can't access properties on an <code class="w3-codespan">unknown</code> type without type assertion</li>
    <li>You can't call or construct values of type <code class="w3-codespan">unknown</code></li>
  </ul>
</div>

<p>TypeScript will prevent <code class="w3-codespan">unknown</code> types from being used without proper type checking, as shown in the example below:</p>
<div class="w3-example">
<h3>Example</h3>
<div class="w3-code notranslate jsHigh">
let w: unknown = 1;<br>
w = "string"; // no error<br>
w = {<br>
&nbsp;&nbsp;runANonExistentMethod: () =&gt; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;console.log("I think therefore I am");<br>
&nbsp;&nbsp;}<br>
} as { runANonExistentMethod: () =&gt; void}<br>
// How can we avoid the error for the code commented out below when we don't know the type?<br>
// w.runANonExistentMethod(); // Error: Object is of type 'unknown'.<br>
if(typeof w === 'object' &amp;&amp; w !== null) {<br>
&nbsp;&nbsp;(w as { runANonExistentMethod: Function }).runANonExistentMethod();<br>
}<br>
// Although we have to cast multiple times we can do a check in the if to secure our type and have a safer casting
</div>


</div>

<div class="w3-panel ws-info">
  <p><strong>When to use <code class="w3-codespan">unknown</code>:</strong></p>
  <ul>
    <li>When working with data from external sources (APIs, user input, etc.)</li>
    <li>When you want to ensure type safety while still allowing flexibility</li>
    <li>When migrating from JavaScript to TypeScript in a type-safe way</li>
  </ul>

  <p><strong>Type narrowing with <code class="w3-codespan">unknown</code>:</strong></p>
  <p>You can narrow down the type of an <code class="w3-codespan">unknown</code> value using type guards:</p>
  <div class="w3-code notranslate jsHigh">
    function processValue(value: unknown) {<br>
    &nbsp;&nbsp;if (typeof value === 'string') {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;// value is now treated as string<br>
    &nbsp;&nbsp;&nbsp;&nbsp;console.log(value.toUpperCase());<br>
    &nbsp;&nbsp;} else if (Array.isArray(value)) {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;// value is now treated as any[]<br>
    &nbsp;&nbsp;&nbsp;&nbsp;console.log(value.length);<br>
    &nbsp;&nbsp;}<br>
    }
  </div>
</div>

<h2 id="never-type">Type: never</h2>

<p>The <code class="w3-codespan">never</code> type represents the type of values that never occur.</p>
<p>It's used to indicate that something never happens or should never happen.</p>

<div class="w3-panel ws-info">
  <p><strong>Common use cases for <code class="w3-codespan">never</code>:</strong></p>
  <ul>
    <li>Functions that never return (always throw an error or enter an infinite loop)</li>
    <li>Type guards that never pass type checking</li>
    <li>Exhaustiveness checking in discriminated unions</li>
  </ul>
</div>

<h3>Examples of <code class="w3-codespan">never</code> in action:</h3>

<div class="w3-example">
  <h4>1. Function that never returns</h4>
  <div class="w3-code notranslate jsHigh">
    function throwError(message: string): never {<br>
    &nbsp;&nbsp;throw new Error(message);<br>
    }
  </div>
</div>

<div class="w3-example">
  <h4>2. Exhaustiveness checking with discriminated unions</h4>
  <div class="w3-code notranslate jsHigh">
    type Shape = Circle | Square | Triangle;<br>
    <br>
    function getArea(shape: Shape): number {<br>
    &nbsp;&nbsp;switch (shape.kind) {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;case 'circle':<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Math.PI * shape.radius ** 2;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;case 'square':<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return shape.sideLength ** 2;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;default:<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// TypeScript knows this should never happen<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const _exhaustiveCheck: never = shape;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return _exhaustiveCheck;<br>
    &nbsp;&nbsp;}<br>
    }
  </div>
</div>

<div class="w3-example">
  <h4>3. Basic <code class="w3-codespan">never</code> type (throws error when assigned)</h4>
  <div class="w3-code notranslate jsHigh">
    let x: never = true; // Error: Type 'boolean' is not assignable to type 'never'.
  </div>
  
</div>

<div class="w3-panel ws-info">
  <p><strong>When to use <code class="w3-codespan">never</code>:</strong></p>
  <ul>
    <li>For functions that will never return a value</li>
    <li>In type guards that should never match</li>
    <li>For exhaustive type checking in switch statements</li>
    <li>In generic types to indicate certain cases are impossible</li>
  </ul>
</div>

<hr>

<h2 id="undefined-null-types">Type: undefined &amp; null</h2>

<p>In TypeScript, both <code class="w3-codespan">undefined</code> and <code class="w3-codespan">null</code> have their own types, just like <code class="w3-codespan">string</code> or <code class="w3-codespan">number</code>.</p>
<p>By default, these types can be assigned to any other type, but this can be changed with TypeScript's strict null checks.</p>

<div class="w3-panel ws-info">
  <p><strong>Key points about <code class="w3-codespan">undefined</code> and <code class="w3-codespan">null</code>:</strong></p>
  <ul>
    <li><code class="w3-codespan">undefined</code> means a variable has been declared but not assigned a value</li>
    <li><code class="w3-codespan">null</code> is an explicit assignment that represents no value or no object</li>
    <li>In TypeScript, both have their own types: <code class="w3-codespan">undefined</code> and <code class="w3-codespan">null</code> respectively</li>
    <li>With <code class="w3-codespan">strictNullChecks</code> enabled, you must explicitly handle these types</li>
  </ul>
</div>

<h3>Basic Usage</h3>
<div class="w3-example">
  <div class="w3-code notranslate jsHigh">
    let y: undefined = undefined;<br>
    let z: null = null;
  </div>
  
</div>

<h3>Optional Parameters and Properties</h3>
<div class="w3-example">
  <div class="w3-code notranslate jsHigh">
    // Optional parameter (implicitly `string | undefined`)<br>
    function greet(name?: string) {<br>
    &nbsp;&nbsp;return `Hello, ${name || 'stranger'}`;<br>
    }<br>
    <br>
    // Optional property in an interface<br>
    interface User {<br>
    &nbsp;&nbsp;name: string;<br>
    &nbsp;&nbsp;age?: number;  // Same as `number | undefined`
    }
  </div>
</div>

<h3>Nullish Coalescing and Optional Chaining</h3>
<div class="w3-example">
  <div class="w3-code notranslate jsHigh">
    // Nullish coalescing (??) - only uses default if value is null or undefined<br>
    const value = input ?? 'default';<br>
    <br>
    // Optional chaining (?.) - safely access nested properties<br>
    const street = user?.address?.street;
  </div>
</div>

<div class="w3-panel ws-info">
  <p><strong>Important:</strong> These types are most useful when <code class="w3-codespan">strictNullChecks</code> is enabled in your <code class="w3-codespan">tsconfig.json</code> file.</p>
<p>This ensures that <code class="w3-codespan">null</code> and <code class="w3-codespan">undefined</code> are only assignable to themselves and <code class="w3-codespan">any</code>.</p>
  
  <p>To enable strict null checks, add this to your <code class="w3-codespan">tsconfig.json</code>:</p>
  <div class="w3-code notranslate jsHigh">
    {<br>
    &nbsp;&nbsp;"compilerOptions": {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;"strictNullChecks": true<br>
    &nbsp;&nbsp;}<br>
    }
  </div>
</div>
<hr>

<hr>
<br>